# Nous voulons un cmake "récent" pour utiliser les dernières fonctionnalités
cmake_minimum_required(VERSION 3.12)

# Notre projet est étiqueté hello
project(ApplicationExample)

add_definitions("-Wall" "-g")

# Crée des variables avec les fichiers à compiler
file(GLOB_RECURSE SRCS CONFIGURE_DEPENDS
     "server/src/*.hpp"
     "server/src/*.cpp"
)

# Recherche la dépendance externe
find_package (Boost)
if (Boost_FOUND)
  # Une fois la dépendance trouvée, nous l'incluons au projet
  include_directories(${Boost_INCLUDE_DIRS}) 
  # On indique que l'on veut un exécutable "hello" compilé à partir des fichiers décrits par les variables SRCS et HEADERS
  add_executable(ApplicationExample ${SRCS})
  target_link_libraries(ApplicationExample ${Boost_LIBRARIES})
else ()
  # Sinon, nous affichons un message
  message(FATAL_ERROR "Boost not found")
endif ()